<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin panel</title>

    <link rel="icon" type="image/png" href="/resources/images/valentine heart.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="/css/admin-style.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.8/css/jquery.dataTables.min.css">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.8/js/jquery.dataTables.min.js"></script>
    <script src="/js/UserTable.js"></script>


</head>
<body>
    <!--Nav bar-->
    <nav id="navbar" class="navbar gap-4 bg-light-subtle rounded-2 px-3 shadow-sm" style="display: flex; flex-direction: column;justify-content: flex-start; width: 300px;">

        <div id="nav-header" class="w-100 d-flex justify-content-center rounded-3" style=" height: 100px;">
            <div class="container-fluid  d-flex justify-content-center align-items-center h-100" style="width: 30%">
                <i class="fa-solid fa-user-shield shadow-sm d-flex justify-content-center align-items-center border p-3 rounded-2" style="color: cornflowerblue; font-size: 1.6rem; width: 80px; height:60px"></i>
            </div>
            <div class="container-fluid h-100 w-75 d-flex flex-column justify-content-center">
                <h6>Welcome,</h6>
                <h3 style="line-height: 0.1;" class="text-primary">Raphael!</h3>
            </div>
        </div>

        <div id="navbar-body" class="d-grid w-100 gap-2 px-2">
            <button type="button" class="btn btn-block btn-outline-primary" data-bs-toggle="modal" data-bs-target="#add">
                <i class="fa-solid fa-plus"></i>
                Add a person</button>
            <button type="button" class="btn btn-block btn-outline-primary" data-bs-toggle="modal" data-bs-target="#dedicate">
                <i class="fa-solid fa-envelope-open-text"></i>
                Dedicate a letter</button>
        </div>
    </nav>

    <!--Main admin content-->
    <div class="outermost-container px-3" id="outermost-right">
        <!--Header-->
        <div class="container-fluid d-flex justify-content-start gap-3 mb-5">

            <div class="w-25 bg-light px-4 py-3 rounded-3 shadow-sm">
                <h1>0</h1>
                <h3 class="text-primary">Total registered people</h3>
            </div>

            <div class="w-25 bg-light px-4 py-3 rounded-3 shadow-sm">
                <h1>0</h1>
                <h3 class="text-success">Total visits</h3>
            </div>
        </div>

        <!--Table-->
        <div id="table-container" class="container-fluid">
            <table id="user-table" class="table table-borderless text-center">
                <thead>
                    <tr>
                        <th>First name</th>
                        <th>last name</th>
                        <th>Age</th>
                        <th>Category</th>
                        <th>Action</th>
                        <th>Action</th>
                    </tr>
                </thead>
            </table>
        </div>

        <!--Add people modal-->
        <div class="modal fade" id="add" tabindex="-1" aria-labelledby="addModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">

                <div class="modal-content">

                    <div class="modal-header">
                        <div>
                            <h2 class="modal-title text-primary" id="addModalLabel">Add more people</h2>
                            <p class="mb-0 text-muted">to spread love with!</p>
                        </div>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>

                    <div class="modal-body">

                        <form id="add-person-form" method="post" class="d-flex flex-column gap-3">
                            <div class="form-floating">
                                <input name="firstName" type="text" class="form-control" id="firstName" placeholder="Enter first name">
                                <label for="firstName">First name</label>
                            </div>

                            <div class="form-floating">
                                <input name="lastName" type="text" class="form-control" id="lastName" placeholder="Enter last name">
                                <label for="lastName">Last name</label>
                            </div>

                            <div class="form-floating">
                                <input type="number" name="age" id="age" class="form-control" placeholder="Enter age">
                                <label for="age">Age</label>
                            </div>

                            <div class="form-floating">
                                <select name="category" id="category" class="form-select" required>
                                    <option value="" disabled selected></option>
                                    <option value="PARENTS">Parents</option>
                                    <option value="SPECIAL_SOMEONE">Special Someone</option>
                                    <option value="PEERS">Peers</option>
                                </select>
                                <label for="category">Category</label>
                            </div>

                            <div id="secret-fields" class="d-flex flex-column gap-3" style="display: none !important;">
                                <div class="form-floating">
                                    <input type="text" name="secretQuestion" id="secretQuestion" class="form-control" placeholder="Enter secret question">
                                    <label for="secretQuestion">Secret Question</label>
                                </div>

                                <div class="form-floating">
                                    <input type="text" name="secretAnswer" id="secretAnswer" class="form-control" placeholder="Enter secret answer">
                                    <label for="secretAnswer">Secret Answer</label>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                        <button type="submit" form="add-person-form" class="btn btn-success">Add person</button>
                    </div>
                </div>
            </div>
        </div>

        <!--Update information modal-->
        <div class="modal fade" id="update" tabindex="-1" aria-labelledby="updateModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">

                <div class="modal-content">

                    <div class="modal-header d-flex flex-column text-center">
                        <h2 class="modal-title text-primary" id="updateModalLabel">They did just changed names</h2>
                        <p class="mb-0 text-muted">after finding out you made a letter to them?</p>
                        <button class="btn btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>

                    <div class="modal-body">

                        <form action="" method="post" id="update-person-form" class="d-flex flex-column gap-3">
                            <div class="form-floating">
                                <input type="text" id="change-first-name" name="change-first-name" class="form-control" placeholder="Enter first name">
                                <label for="change-first-name">First name</label>
                            </div>

                            <div class="form-floating">
                                <input type="text" class="form-control" id="change-last-name" name="change-last-name" placeholder="Enter last name">
                                <label for="change-last-name">Last name</label>
                            </div>

                            <div class="form-floating">
                                <input type="number" name="change-age" id="change-age" class="form-control" placeholder="Enter age">
                                <label for="change-age">Age</label>
                            </div>
                        </form>
                            <div id="update-person-information" class="small mt-2" aria-live="polite"></div>
                    </div>

                    <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                            <button type="submit" class="btn btn-success" form="update-person-form">Update information</button>
                    </div>
                </div>
            </div>
        </div>

        <!--Dedicate letter modal-->
        <div class="modal fade" id="dedicate" tabindex="-1" aria-labelledby="dedicateModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">

                <div class="modal-content">

                    <div class="modal-header">
                        <div>
                            <h2 class="modal-title text-primary" id="dedicateModalLabel">Dedicate a letter</h2>
                            <p class="mb-0 text-muted">write from the heart!</p>
                        </div>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>

                    <div class="modal-body">

                        <form id="dedicate-letter-form" method="post" class="d-flex flex-column gap-3">
                            <div class="form-floating">
                                <select name="firstName" id="dedicate-recipient" class="form-select" required>
                                    <option value="" disabled selected></option>
                                </select>
                                <label for="dedicate-recipient">Recipient</label>
                            </div>

                            <div class="form-floating">
                                <textarea name="text" id="dedicate-text" class="form-control" placeholder="Write your letter here" style="height: 150px;" required></textarea>
                                <label for="dedicate-text">Letter</label>
                            </div>
                        </form>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                        <button type="submit" form="dedicate-letter-form" class="btn btn-success">Send letter</button>
                    </div>
                </div>
            </div>
        </div>

        <!--Remove people button-->
        <div class="modal fade" id="remove" tabindex="-1" aria-labelledby="removeModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">

                <div class="modal-content">

                    <div class="modal-header d-flex flex-column text-center">
                        <h2 class="text-primary">Ready to drop someone?</h2>
                        <p class="mb-0 text-muted">This is irreversible</p>

                        <button class="btn btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>

                    <div class="modal-body d-flex flex-column gap-3">
                        <div id="remove-person-name" class="text-center"></div>
                        <div class="d-flex justify-content-end gap-2">
                            <button class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                            <button class="btn btn-danger" id="delete-btn">People come and go</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</body>
</html>